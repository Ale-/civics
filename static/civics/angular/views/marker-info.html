<!-- Popup that displays marker info in leaflet maps -->

<div class="initiative-info" ng-class="{ 'expanded' : info.expanded }">
    <!-- User actions -->
    <div class="initiative-actions">
        <a class="initiative-action__edit" href="/edita/iniciativa/{{ info.marker.id }}">✏</a>
        <a class="initiative-action__remove" href="/borra/iniciativa/{{ info.marker.id }}">⤫</a>
        <i class="initiative-action__close" ng-click="info.expanded = false">×</i>
    </div>

    <!-- Profile header -->
    <div class="initiative-header">
        <h2 class='initiative-info__name'>
            {{ info.marker.nam }}
        </h2>
        <div class="initiative-image">
            <img ng-show="info.marker.img" src="{{ info.marker.img }}" />
            <div ng-hide="info.marker.img" class="initiative-image--blank">
                <span class="icon-agent"></span>
            </div>
        </div>
        <div class='initiative-marker'>
            <i class='outer icon-topic-{{ info.marker.top }} icon-agent-{{ info.marker.age }}'></i>
            <i class='inner icon-space-{{ info.marker.spa }}'></i>
            <p class="initiative-marker__topic">{{ info.marker.topicname }}</p>
            <p class="initiative-marker__space">{{ info.marker.spacename }}</p>
            <p class="initiative-marker__agent">{{ info.marker.agentname }}</p>
        </div>
    </div>

    <!-- Event details -->
    <div class='initiative-info__event-details' ng-if="info.showing=='events'">
        <p class="initiative-info__detail--date">
            <span class="icon-event-date"></span> {{ info.marker.dat}}
        </p>
        <p class="initiative-info__detail--time">
            <span class="icon-event-time"></span> {{ info.marker.tim }}
        </p>
        <p class="initiative-info__detail--address">
            <span class="icon-event-address"></span> {{ info.marker.add }}
        </p>
    </div>

    <!-- Profile description text -->
    <p class='initiative-info__description'>
        {{ info.marker.des }}
    </p>

    <!-- Profile details -->
    <div class='initiative-info__details'>
        <p class="initiative-info__detail--initiative" ng-if="info.showing=='events'">
            Promueve: {{ info.marker.ini }}
        </p>
        <p class="initiative-info__detail--website" ng-show="info.marker.web">
            <span class="icon-website"></span> <a href="{{ marker_website }}" target="_blank">{{ info.marker.web }}</a>
        </p>
        <p class="initiative-info__detail--email" ng-show="info.marker.ema">
            <span class="icon-email"></span> <a href="mailto:{{ info.marker.email }}" target="_blank">{{ info.marker.ema }}</a>
        </p>
        <p class="initiative-info__detail--address" ng-show="info.marker.add">
            <span class="icon-address"></span> {{ info.marker.add }}
        </p>
        <p class="initiative-info__detail--address" ng-show="info.marker.i_add">
            <span class="icon-address"></span> {{ info.marker.i_add }}
        </p>
    </div>
</div>
