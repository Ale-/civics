// Dashboard styles

@import compass/css3/inline-block
@import compass/css3/filter
@import compass/css3/transform
@import compass/css3/box-shadow
@import compass/css3/border-radius

.dashboard,
.dashboard-staff
  main
    background: #eee

.dashboard,
.dashboard-staff
  .page-title
    text-align: center
    text-transform: uppercase
    font-size: 1.25rem
    margin-bottom: $m*2
    &:before
      content: "- "
    &:after
      content: " -"

.dashboard,
.dashboard-staff
  .layout-main
    margin: 0
    padding-top: $m*2
    min-height: calc(100vh - 56px)

.dashboard-left,
.dashboard-right,
.dashboard-left__left,
.dashboard-left__right
  +inline-block
  margin: 0 $m/2
  +breakpoint('xs')
    display: block

.dashboard-left,
.dashboard-right
  +breakpoint('sm')
    width: calc(50% - #{$m})
.dashboard-left__left,
.dashboard-left__right
  +breakpoint('md')
    width: calc(50% - #{$m})
.dashboard-left__right,
.dashboard-right
  +breakpoint('xs')
    margin-top: $m
    width: calc(100% - #{$m})

.dashboard-left,
.dashboard-left__left
  +breakpoint('sm')
    float: left

.dashboard-left__left
  background-color: $palette_primary

.dashboard-left__right
  background-color: $palette_secondary

[class$='--dashboard__title']
  position: relative
  +links_dashboard
  padding: $m/2
  color: rgba(black, .7)
  h2
    margin: 0
    text-transform: uppercase
    font-size: 1.25rem
    display: inline

.initiatives--dashboard__title,
.single-initiative--dashboard__title
  background-color: darken($palette_primary, 15%)
.events--dashboard__title
  background-color: darken($palette_secondary, 15%)
.events-map--dashboard__title
  background-color: #ccc
  margin-right: $m/2

[class$='--dashboard__create']
  float: right

[class$='--dashboard__items'],
.single-initiative--dashboard__fields
  +no_links(rgba(black, .75))
  max-height: calc(100vh - 288px)
  overflow-y: auto
  +breakpoint('sm')
    height: calc(100vh - 288px)

[class$='--dashboard__item']
  padding: $m/2
  position: relative
  +transition(background-color .2s ease)

[class$='--dashboard__item']:hover
  background: rgba(black, .25)
  color: white !important
  [class$='--dashboard__edit']
    visibility: visible
    opacity: 1
[class$='--dashboard__edit']
  position: absolute
  right: 0
  top: 0
  z-index: 10
  background-color: rgba(black, .25)
  color: white
  visibility: hidden
  opacity: 0
  line-height: 100%
  padding: $m/4 $m/2
  font-size: .8em !important
  font-weight: 300 !important
  letter-spacing: 1px
  +h(6)
  +transition(opacity .25s ease)
  text-transform: uppercase

[class$='--dashboard__item-name']
  margin: 0 0 $m/4

[class$='--dashboard__item-date']
  text-transform: uppercase
  font-size: .8em

[class$='--dashboard__item-image']
  float: left
  background: #ddd
  color: #999
  width: $m*2
  height: $m*2
  text-align: center
  line-height: $m*2
  font-size: $m
  margin-right: $m/2
  +border-radius(50%)
  img
    +border-radius(50%)
  display: inline-block
  + div
    display: inline-block
    width: calc(100% - #{$m*2.5})

.events--dashboard__items-empty
  font-size: 1.25em
  padding: $m*2
  text-align: center
  span
    font-size: .8em
    margin: 0 $m/4

.events--dashboard__edit-event
  font-size: 2em
  +transform( rotate(45deg) )
  float: right
  line-height: 1em

#dashboard_map
  +box-shadow(0 0 5px rgba(black,.1))
  max-width: 100%
  min-height: calc(100vh - 290px)
  margin-right: $m/2
  .leaflet-tile
    +filter( grayscale(100%) !important)
  .leaflet-popup-content-wrapper
    +border-radius(0)
    h5
      margin-bottom: $m/4
    p
      text-align: right
      text-transform: uppercase
      font-weight: bold

[class^='single-initiative--dashboard__']
  padding: $m/2
  p
    +h(6)
    text-transform: uppercase

.import-events
  padding: $m
  +links_google_button
.import-events__list
  margin-top: $m
.import-events__item
  position: relative
  margin-top: $m/2
  padding: $m/2 $m/2 $m*1.5
  background-color: rgba(black, .1)

.import-events__item-name
  +h(5)
.import-events__item-source
  font-weight: 300
  font-size: .6em
  display: inline-block
  width: $m/2
.import-events__title
  border-bottom: 1px solid $color_text
  text-transform: uppercase
  margin-bottom: $m/2
.import-events__item-date
  text-transform: uppercase
  font-size: .9em
  font-weight: 300
  margin-bottom: $m/3
.import-events__item-add
  span
    float: right
    background: rgba(black, .5)
    color: white
.import-events__help
  font-size: .9em
  padding: $m/2 0
  color: rgba(black, .75)
  clear: both
.import-events__empty
  display: none
  margin-top: $m
  font-size: .9em
.import-events__event-date,
.import-events__event-time
  border-width: 0 0 1px 0
  background: none
  width: calc(100% - #{$m*4})
  margin: $m/4 0
.import-events__event-categories,
.import-events__user-initiatives
  margin: $m/4 0
  +appearance(none)
  border-width: 0 0 1px 0
  background: none
  width: calc(100% - #{$m*4})
  text-overflow: ellipsis
  option
    max-width: 250px
    overflow: hidden
    text-overflow: ellipsis
    white-space: nowrap
.import-events__submit
  +h(6)
  display: inline-block
  position: absolute
  bottom: 0
  right: 0
  text-transform: uppercase
  margin-top: $m/3
  color: white
  background-color: rgba(black, .5)
  padding: $m/4
  &:hover
    cursor: pointer
.import-events__label
  text-transform: uppercase
  font-size: .8em
  display: inline-block
  width: $m*3
  margin-right: $m/2

.events--dashboard__item-image
  margin-top: $m/3
.events--dashboard__item-initiative
  text-transform: uppercase
  font-size: .8em
.import-events__actions
  text-align: center
  .hidden
    text-transform: uppercase

// Facebook and Google elements

.import-events__action
  font-size: .9em
  position: relative
  line-height: 36px
  color: white
  +transition(background-color .2s ease)
  width: 40%
  padding: 0 $m/2
  float: left
  margin: 0 $m/2
  &:hover
    cursor: pointer
    .normal
      display: none
    .hidden
      display: inline
.import-events__action.nofacebook
  background: white
  width: 120px
  color: #757575
  font-weight: bold
  font-size: 13px
  +box-shadow(0 2px 4px 0 rgba(0,0,0,.25))
  &:hover
    +box-shadow(0 0 3px 3px rgba(66,133,244,.3))
  .icon-facebook:before
    color: #4267B2
    font-size: 20px
    position: relative
    right: 16px
.import-events__action.facebook
  background: #4267B2
  &:hover
    background: darken(#4267B2, 10%)
.import-events__action.google
  background: #DB4437
  &:hover
    background: darken(#DB4437, 10%)
.source--FB:before,
.source--G:before
  content: " "
  width: $m/3
  height: $m/3
  display: inline-block
  position: relative
  bottom: 2px
  margin-right: 4px
.source--FB:before
  background: #4267B2
.source--G:before
  background: #DB4437

.import-events__action
  display: none
.import-events.facebook
  .facebook
    display: inline-block
.import-events.nofacebook
  .nofacebook
    display: inline-block
.import-events.google
  .google
    display: inline-block
.import-events.nogoogle
  .nogoogle
    display: inline-block
